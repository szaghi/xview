[modes]
modes = gnu gnu-debug intel intel-debug

[common-variables]
$CSHARED_GNU = -cpp -c -fPIC -frealloc-lhs
$CSHARED_INT = -cpp -c -fpic -assume realloc_lhs
$LSHARED     = -shared
$CSTATIC_GNU = -cpp -c -frealloc-lhs
$CSTATIC_INT = -cpp -c -assume realloc_lhs
$DEBUG_GNU   = -Og -g3 -Wall -Wno-surprising -Wextra -fcheck=all -fbacktrace -std=f2008 -fall-intrinsics
$DEBUG_INT   = -O0 -check arg_temp_created -check format -check assume -check format -check output_conversion -check pointers -check stack -check uninit -debug all -warn all -extend-source 132 -traceback
$OPTIMIZE    = -O3
$EXDIRS      = PENF/src/tests
               FLAP/src/tests FLAP/src/third_party
               StringiFor/src/tests StringiFor/src/third_party
               BeFoR64/src/tests BeFoR64/src/third_party
               FACE/src/tests FACE/src/third_party

# main modes
# GNU
[gnu]
template  = template-static-gnu
build_dir = exe

[gnu-debug]
template  = template-static-gnu-debug
build_dir = exe

# Intel
[intel]
template  = template-static-intel
build_dir = exe

[intel-debug]
template  = template-static-intel-debug
build_dir = exe

#templates
[template-static-gnu]
compiler        = gnu
cflags          = $CSTATIC_GNU $OPTIMIZE
mod_dir         = ./mod/
obj_dir         = ./obj/
src             = ./src/
colors          = True
quiet           = False
log             = True
jobs            = 10
exclude_dirs    = $EXDIRS
cflags_heritage = True

[template-static-gnu-debug]
compiler        = gnu
cflags          = $CSTATIC_GNU $DEBUG_GNU
lflags          = $DEBUG_GNU
mod_dir         = ./mod/
obj_dir         = ./obj/
src             = ./src/
colors          = True
quiet           = False
log             = True
jobs            = 10
exclude_dirs    = $EXDIRS
cflags_heritage = True

[template-static-intel]
compiler        = intel
cflags          = $CSTATIC_INT $OPTIMIZE
lflags          = $OPTIMIZE
mod_dir         = ./mod/
obj_dir         = ./obj/
src             = ./src/
colors          = True
quiet           = False
log             = True
jobs            = 10
exclude_dirs    = $EXDIRS
cflags_heritage = True

[template-static-intel-debug]
compiler        = intel
cflags          = $CSTATIC_INT $DEBUG_INT
lflags          = $DEBUG_INT
mod_dir         = ./mod/
obj_dir         = ./obj/
src             = ./src/
colors          = True
quiet           = False
log             = True
jobs            = 10
exclude_dirs    = $EXDIRS
cflags_heritage = True
